# Testing Guide - vCAD WASM

## ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤

**–®–∞–≥–∏:**
1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É **Cube** –≤ Toolbar
2. –í SceneTree –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç "Cube"
3. –í 3D Viewport –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –∫—É–±

**–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è:**
- Cylinder
- Sphere
- Sketch (–ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞)

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º–∏

**–í—ã–±–æ—Ä –æ–±—ä–µ–∫—Ç–∞:**
- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –æ–±—ä–µ–∫—Ç –≤ SceneTree
- –û–±—ä–µ–∫—Ç –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—Å—è —Å–∏–Ω–∏–º —Ü–≤–µ—Ç–æ–º –≤ viewport

**–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä:**
- Ctrl+Click –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –≤ SceneTree
- –í—ã–±—Ä–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è

**–°–∫—Ä—ã—Ç—å/–ø–æ–∫–∞–∑–∞—Ç—å:**
- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –≥–ª–∞–∑–∞ —Ä—è–¥–æ–º —Å –æ–±—ä–µ–∫—Ç–æ–º

**–£–¥–∞–ª–∏—Ç—å:**
- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∫–æ—Ä–∑–∏–Ω—ã

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–π—Å—Ç–≤

**–®–∞–≥–∏:**
1. –í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç –≤ SceneTree
2. –í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ Properties –æ—Ç–æ–±—Ä–∞–∑—è—Ç—Å—è:
   - Name
   - ID
   - Features count

### 4. Boolean –æ–ø–µ—Ä–∞—Ü–∏–∏

**Union (–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ):**
1. –°–æ–∑–¥–∞–π—Ç–µ 2 Cube
2. –í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ **Union**
3. –í—ã–±–µ—Ä–∏—Ç–µ 2 –æ–±—ä–µ–∫—Ç–∞ –≤ SceneTree (–æ–Ω–∏ –ø–æ–¥—Å–≤–µ—Ç—è—Ç—Å—è)
4. –ö–ª–∏–∫–Ω–∏—Ç–µ **Apply**
5. –°–æ–∑–¥–∞—Å—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç "Union(Cube, Cube)"

**Difference (–í—ã—á–∏—Ç–∞–Ω–∏–µ):**
1. –°–æ–∑–¥–∞–π—Ç–µ Cube –∏ Sphere
2. –ö–ª–∏–∫–Ω–∏—Ç–µ **Difference**
3. –í—ã–±–µ—Ä–∏—Ç–µ Cube (–ø–µ—Ä–≤—ã–π –æ–±—ä–µ–∫—Ç - –∏–∑ –Ω–µ–≥–æ –≤—ã—á–∏—Ç–∞–µ–º)
4. –í—ã–±–µ—Ä–∏—Ç–µ Sphere (–≤—Ç–æ—Ä–æ–π –æ–±—ä–µ–∫—Ç - —á—Ç–æ –≤—ã—á–∏—Ç–∞–µ–º)
5. –ö–ª–∏–∫–Ω–∏—Ç–µ **Apply**

**Intersection (–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ):**
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Difference

### 5. 3D Viewport

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:**
- **–õ–µ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –º—ã—à–∏ + drag** - –≤—Ä–∞—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
- **–ö–æ–ª–µ—Å–∏–∫–æ –º—ã—à–∏** - –∑—É–º
- **–ü—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞ –º—ã—à–∏ + drag** - –ø–∞–Ω–æ—Ä–∞–º–∞ (pan)

**Gizmo:**
- –í –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É - ViewCube –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### Boolean –æ–ø–µ—Ä–∞—Ü–∏–∏ - –∑–∞–≥–ª—É—à–∫–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ–π—á–∞—Å Boolean –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç –Ω–æ–≤—ã–π –ø—Ä–∏–º–∏—Ç–∏–≤, –∞ –Ω–µ —Ä–µ–∞–ª—å–Ω–æ–µ CSG –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ.

**–ü—Ä–∏—á–∏–Ω–∞:** vcad library –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ WASM.

**–†–µ—à–µ–Ω–∏–µ (–±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ):**
```typescript
// –í –±—É–¥—É—â–µ–º –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è three-bvh-csg
import { booleanUnion } from '@/utils/csg'

const resultMesh = booleanUnion(mesh1, mesh2)
```

### WASM –º–æ–¥—É–ª—å - stub
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏–∏ WASM –≤—ã–∑—ã–≤–∞—é—Ç—Å—è, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ç–æ–ª—å–∫–æ ID, –Ω–µ –≤—ã–ø–æ–ª–Ω—è—è —Ä–µ–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É.

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- `createCube()` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç UUID
- `buildSceneGLB()` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Three.js primitives

## üîß Debugging

### –û—Ç–∫—Ä—ã—Ç—å DevTools
```
F12 –∏–ª–∏ Ctrl+Shift+I
```

### Console logs

**WASM –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
```
vCAD WASM Engine v0.1.0 initialized
Manifold CSG: false
```

**–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤:**
```
Created cube: <uuid> (1x1x1)
Created cylinder: <uuid> (r=0.5, h=1)
```

### Zustand DevTools

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞:
- Chrome: [Redux DevTools](https://chrome.google.com/webstore/detail/redux-devtools/)
- Firefox: Redux DevTools

–í –∫–æ–¥–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Zustand.

## üìä Performance

### –ú–µ—Ç—Ä–∏–∫–∏

**Load time:** ~1-2 —Å–µ–∫—É–Ω–¥—ã
- WASM module: ~150 KB
- React bundle: ~300 KB

**Runtime:**
- 60 FPS –≤ viewport —Å 1-10 –æ–±—ä–µ–∫—Ç–∞–º–∏
- Dropdown –ø—Ä–∏ >50 –æ–±—ä–µ–∫—Ç–∞—Ö (–æ–∂–∏–¥–∞–µ–º–æ)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```javascript
// –í DevTools Console:
performance.mark('start')
// –°–æ–∑–¥–∞–π—Ç–µ 10 –∫—É–±–æ–≤
performance.mark('end')
performance.measure('create-10-cubes', 'start', 'end')
console.table(performance.getEntriesByType('measure'))
```

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Console (F12)
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ WASM —Å–æ–±—Ä–∞–Ω: `npm run build:wasm`
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+R)

### "Module not found"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
rm -rf node_modules
npm install
npm run build:wasm
npm run dev
```

### Boolean –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–û–∂–∏–¥–∞–µ–º–æ!** –°–µ–π—á–∞—Å —ç—Ç–æ –∑–∞–≥–ª—É—à–∫–∏. –†–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö.

## üìù TODO: –°–ª–µ–¥—É—é—â–∏–µ —Ç–µ—Å—Ç—ã

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:

### Sketch Mode
- [ ] –°–æ–∑–¥–∞—Ç—å sketch –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ XY
- [ ] –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –ª–∏–Ω–∏—é
- [ ] –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –∫—Ä—É–≥
- [ ] –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫
- [ ] –ó–∞–∫—Ä—ã—Ç—å –∫–æ–Ω—Ç—É—Ä

### Extrude
- [ ] –í—ã–¥–∞–≤–∏—Ç—å sketch
- [ ] –ó–∞–¥–∞—Ç—å –≤—ã—Å–æ—Ç—É
- [ ] –ó–∞–¥–∞—Ç—å draft angle
- [ ] Cut extrude

### Fillet/Chamfer
- [ ] –í—ã–±—Ä–∞—Ç—å —Ä–µ–±—Ä–æ
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å fillet
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å chamfer

## üéØ Checklist –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

- [ ] –í—Å–µ –ø—Ä–∏–º–∏—Ç–∏–≤—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
- [ ] –û–±—ä–µ–∫—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ viewport
- [ ] –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –æ–±—ä–µ–∫—Ç
- [ ] –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –æ–±—ä–µ–∫—Ç
- [ ] Boolean –ø–∞–Ω–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å 2 –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è Boolean
- [ ] Apply —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç (–ø—É—Å—Ç—å –ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞)
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ Console
- [ ] FPS > 30 –≤ viewport
